{% extends "base.html" %} {% block title %}{{ project_name }} - Summary{%
endblock %} {% block extra_styles %} .summary-section { margin-bottom: 2rem; }
.summary-section h2 { font-size: 1.125rem; font-weight: 600; margin-bottom:
1rem; padding-bottom: 0.5rem; border-bottom: 1px solid var(--color-border); }
.contribution-grid { display: grid; grid-template-columns: repeat(auto-fill,
minmax(200px, 1fr)); gap: 1rem; } .contribution-card { background:
var(--color-bg-secondary); border-radius: var(--radius-md); padding: 1rem; }
.contribution-header { display: flex; justify-content: space-between;
align-items: center; margin-bottom: 0.5rem; } .contribution-filename {
font-weight: 500; white-space: nowrap; overflow: hidden; text-overflow:
ellipsis; } .contribution-count { font-size: 0.875rem; color:
var(--color-text-secondary); } .theme-cloud { display: flex; flex-wrap: wrap;
gap: 0.5rem; } .theme-pill { padding: 0.5rem 1rem; background:
var(--color-bg-tertiary); border-radius: var(--radius-full); font-size:
0.875rem; } .theme-pill.size-1 { font-size: 1rem; } .theme-pill.size-2 {
font-size: 1.125rem; background: var(--color-accent-primary); color: white; }
.theme-pill.size-3 { font-size: 1.25rem; background:
var(--color-accent-secondary); color: white; } .arc-timeline { display: flex;
flex-direction: column; gap: 0.75rem; } .arc-item { display: flex; align-items:
flex-start; gap: 1rem; } .arc-marker { width: 8px; height: 8px; border-radius:
50%; margin-top: 0.5rem; flex-shrink: 0; } .arc-marker.hook { background:
var(--color-accent-primary); } .arc-marker.body { background:
var(--color-accent-secondary); } .arc-marker.resolution { background:
var(--color-success); } .arc-content { flex: 1; font-size: 0.875rem; color:
var(--color-text-secondary); } .arc-role { font-size: 0.75rem; text-transform:
uppercase; color: var(--color-text-muted); } .highlights-grid { display: grid;
grid-template-columns: repeat(auto-fill, minmax(280px, 1fr)); gap: 1rem; }
.highlight-card { background: var(--color-bg-secondary); border-radius:
var(--radius-md); padding: 1rem; border-left: 3px solid
var(--color-delivery-high); } .highlight-score { font-size: 1.5rem; font-weight:
700; color: var(--color-success); } .highlight-text { font-size: 0.875rem;
color: var(--color-text-secondary); margin-top: 0.5rem; } @media print {
.summary-section { break-inside: avoid; } } {% endblock %} {% block content %}
<div class="header">
  <div>
    <h1>{{ project_name }}</h1>
    <p class="text-secondary mt-1">
      Project Summary · Generated {{ generated_date }}
    </p>
  </div>
  <div class="header-meta no-print">
    <button class="btn btn-secondary" onclick="window.print()">
      Export PDF
    </button>
  </div>
</div>

<div class="grid grid-4 mb-4">
  <div class="stat-card">
    <div class="stat-value">{{ interview_count }}</div>
    <div class="stat-label">Interviews</div>
  </div>
  <div class="stat-card">
    <div class="stat-value">{{ total_source_duration }}</div>
    <div class="stat-label">Source Duration</div>
  </div>
  <div class="stat-card">
    <div class="stat-value">{{ selected_segment_count }}</div>
    <div class="stat-label">Selected Segments</div>
  </div>
  <div class="stat-card">
    <div class="stat-value">{{ selected_duration }}</div>
    <div class="stat-label">Selected Duration</div>
  </div>
</div>

<div class="summary-section">
  <h2>Interview Contributions</h2>
  <div class="contribution-grid">
    {% for interview in interviews %}
    <div class="contribution-card">
      <div class="contribution-header">
        <div class="contribution-filename">{{ interview.filename }}</div>
        <span class="badge badge-secondary">{{ interview.duration }}</span>
      </div>
      <div class="contribution-count">
        {{ interview.segment_count }} segments selected
      </div>
      <div class="progress-bar mt-2">
        <div
          class="progress-bar-fill"
          style="width: {{ interview.contribution_percent }}%"
        ></div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>

{% if themes %}
<div class="summary-section">
  <h2>Theme Map</h2>
  <div class="theme-cloud">
    {% for theme in themes %}
    <span class="theme-pill size-{{ theme.size }}">{{ theme.name }}</span>
    {% endfor %}
  </div>
</div>
{% endif %} {% if arc_segments %}
<div class="summary-section">
  <h2>Narrative Arc</h2>
  <div class="arc-timeline">
    {% for segment in arc_segments %}
    <div class="arc-item">
      <div class="arc-marker {{ segment.role_class }}"></div>
      <div class="arc-content">
        <div class="arc-role">{{ segment.role }}</div>
        <div>{{ segment.text }}</div>
      </div>
    </div>
    {% endfor %}
  </div>
</div>
{% endif %} {% if highlights %}
<div class="summary-section">
  <h2>Delivery Highlights</h2>
  <div class="highlights-grid">
    {% for highlight in highlights %}
    <div class="highlight-card">
      <div class="highlight-score">{{ highlight.score }}</div>
      <div class="highlight-text">"{{ highlight.text }}"</div>
      <div class="text-muted mt-1">{{ highlight.filename }}</div>
    </div>
    {% endfor %}
  </div>
</div>
{% endif %} {% if has_brief %}
<div class="summary-section no-print">
  <h2>Brief Alignment</h2>
  <div class="card">
    <div class="card-title">{{ brief_name }}</div>
    <div class="text-secondary">
      {% for message in brief_messages %}
      <div class="flex items-center gap-2 mt-2">
        <span class="badge badge-success">✓</span>
        <span>{{ message }}</span>
      </div>
      {% endfor %}
    </div>
  </div>
</div>
{% endif %} {% endblock %}
